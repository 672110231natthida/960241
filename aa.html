<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Last Lab</title>
</head>

<script>

  //  fetch('http://jsonplaceholder.typicode.com/posts').then(
  //      res => res.json()).then(
   //         json=>console.log(json)){
           
   //     }

   //fetch('https://jsonplaceholder.typicode.com/posts',{
   // method:'POST',
   //     body : JSON.stringify({
    //    "title":"foo",
    // /    "body":"bar",
  //      "userId":1
//    }),
   // headers:{
    //    "content-type":"application/json; charset=UTF-8"
   // }
    //}).then(
    //    res => res.json()).then(
    //        json => console.log(json)
    //)



   // fetch('https://jsonplaceholder.typicode.com/posts/1/comments',{ // /commmets?postId=1
    //}).then(
    //    res => res.json()).then(
    //        json => console.log(json)
   // )



   
   



    




</script>


<body>
    <h2>Users</h2>
    <select id="userSelect"></select>

    <h3>Posts</h3>
    <ul id="postsList"></ul>

    <script>
        const userSelect = document.getElementById('userSelect');
        const postsList = document.getElementById('postsList');

        
        async function loadUsers() {
            const res = await fetch('https://jsonplaceholder.typicode.com/users');
            const users = await res.json();

            users.forEach(user => {
                const option = document.createElement('option');
                option.value = user.id;
                option.textContent = user.name;
                userSelect.appendChild(option);
            });

            
            loadUsersPosts(users[0].id);
        }

        
        async function loadUsersPosts(userId) {
            const res = await fetch(`https://jsonplaceholder.typicode.com/posts?userId=${userId}`);
            const posts = await res.json();

            postsList.innerHTML = '';
            posts.forEach(post => {
                const li = document.createElement('li');
                li.textContent = post.title;
                postsList.appendChild(li);
            });
        }

        
        userSelect.addEventListener('change', () => {
            const selectedUserId = userSelect.value;
            loadUsersPosts(selectedUserId);
        });

        
        loadUsers();
    </script>
</body>
</html>